startup_homing_delay_s: 4.0   # seconds to wait after go_home before enabling automation

camera:
  index: 1            # USB camera index on Windows
  width: 1280
  height: 720

arm:
  ip: "192.168.4.1"  # Default AP (Access Point) mode IP; replace with the IP shown on RoArm OLED for your current WiFi mode (AP or STA)

vision:
  # HSV ranges are very scene-dependent; these are placeholders.
  # Use an HSV inspector or simple debug prints to tune.
  blue_lower: [90, 80, 50]     # H, S, V
  blue_upper: [130, 255, 255]

  # Red target square (tune as needed)
  red_lower: [0, 100, 50]
  red_upper: [10, 255, 255]

  min_zone_area: 2000   # minimum contour area to treat as zone (px^2)
  min_object_area: 800  # minimum contour area inside origin box to treat as object
  
  # Ignore grey/white background + black robot when detecting objects
  object_min_saturation: 60   # how "colorful" a pixel must be
  object_min_value: 60        # ignore very dark (near-black) pixels
  object_max_value: 220       # ignore very bright (near-white) pixels

  # End-effector marker (neon pink sticker on gripper tip)
  tip_pink_lower: [140, 80, 80]
  tip_pink_upper: [170, 255, 255]
  tip_min_area: 50  # minimum contour area for tip marker

  # Color-specific object detection (red vs green objects)
  object_red_lower: [0, 120, 80]
  object_red_upper: [10, 255, 255]
  object_green_lower: [40, 80, 80]
  object_green_upper: [80, 255, 255]

controller:
  # Pre-recorded joint angles in degrees for simple pick-and-place
  # You will fill these by using the Web UI and reading angles, then pasting here.
  pose_home:         [22.060, 1.318, 83.270, 180.330]
  pose_above_origin: [2.284, 78.413, 98.689, 180.330]
  pose_pick_origin:  [25.140, 84.763, 88.610, 180.570]
  pose_above_target: [-1.494, 90.620, 55.660, 180.660]
  pose_place_target: [16.080, 90.800, 55.920, 180.660]

  speed_deg_per_s:  30
  acc_deg_per_s2:   30

  grip_closed_rad:  3.14   # clamp closed (max)
  grip_open_rad:    1.20   # clamp open (between 1.08 and 3.14)
  z_lift_mm:        50     # Z-axis lift amount (try 40-60 for higher clearance)
  pause_between_moves: 0.5  # seconds to wait between motion segments

  # Visual push controller settings (image-based visual servoing)
  push_safe_z: -250.0        # cartesian Z height for sliding (mm)
  push_gain_xy: 0.5          # scale from pixel error -> (x,y) delta in mm
  push_max_step_mm: 10.0     # clamp per-step motion
  push_align_tolerance_px: 10  # how close in image before we start pushing
  push_steps: 20             # how many increments to push
  push_step_px: 15.0         # how far in image per push step
